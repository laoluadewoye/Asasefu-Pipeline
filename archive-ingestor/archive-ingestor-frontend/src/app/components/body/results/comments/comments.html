<h3>Chapter Comments</h3>
@if (inputComments()) {
    <h4>Comment thread count: {{ inputComments()?.length }}</h4>
    <app-output-icons
        [inputObject]="inputComments()" 
        [objectName]="`${chapterName()} Comment Threads`"
        [showDropdown]="true"
        (dropdownEvent)="flipCommentsSelected()"
        class="outputs" 
    />
    @if (commentsSelected()) {
        <div animate.enter="fade-in" animate.leave="fade-out">
            @if (someThreadsExceedDepthLimit()) {
                <h4>Comments threads were cut off for being more than {{ defaultThreadDepthLimit }} replies deep. Please download using buttons to see the rest...</h4>
            }
            @if (threadsExceedDisplayLimit()) {
                <h4>Not all comments threads are shown due to the count being over the limit of {{ defaultThreadDisplayLimit }} threads. Please download using buttons to see the rest...</h4>
            }
            @for (comment of commentDisplay(); track comment) {
                <div class="result-unit-subdiv">
                    <app-comment-thread 
                        [inputComment]="comment" 
                        [parentDefaultThreadDepthLimit]="defaultThreadDepthLimit" 
                    />
                </div>
            }
        </div>
    }
}
@else {
    <h4>No comments were found.</h4>
}
