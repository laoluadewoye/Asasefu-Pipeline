1) Use Selenium to read my Ao3 casual collection catalog
2) Use Apache Storm and Spark to turn the series into a set of text chunks to save
3) Use Apache Storm and Spark to send the data to Apache Kafka and Hadoop
4) Use Apache Kafka to also send data to Hadoop
5) Use Hadoop to save things to files
6) Do everything inside containers

------------------

selenium/standalone-chrome docker image

docker run -d -p 4444:4444 -p 7900:7900 --shm-size="2g" selenium/standalone-chrome:136.0-20251101

------------------

Add a fuzzing random Ao3 link test to test suite.

Add CI/CD through Github Actions.

Add tests for chapter, story, and storyinfo classes

------------------

REST-based live update system in Spring Boot:

1) Client requests a parsing from the server through /api/v1/parse/chapter
2) Server creates a session id and stores it in a session management hashmap
3) Server starts a new thread for the parsing process attached to that session id.
4) New parsing thread has access to session management HashMap to update the progress.
5) Server returns a session id immediately to the client.
6) Client saves the session id in its own session management signal.
7) Client disables the starting of a new session until current session is done or canceled.
8) Client pings the server at intervals using /api/v1/parse/session/{sessionid}.
9) Client can cancel the session by using /api/v1/parse/session/{sessionid}/cancel.
9) Server checks the progress of the thread using updates to a shared session management hashmap.
10) Server sends the updated values of the session progress if not complete, including chapter progress and last message.
11) Server sends the final JSON string if complete. 
12) Server keeps the session in session management for a prespecified duration of time incase the client needs to get it again.
13) Client receives final message and saves the contents somewhere.
14) Client creates a dropdown for sessions completed and give the ability to nickname the session.
15) Client can click a session from dropdown and display it's contents.
16) The newest session is displayed immediately.
17) there is a save button for saving various stuff.

------------------

Angular frontend should be able to display:

* Section that allows user to enter required settings for parsing
	** What nickname do you want to call this parsing? (Optional Textbox)
	** Is the parsing going to be a single chapter or a full story? (Required Toggle)
	** What is the page link for this parsing? (Required Textbox, Needs Validation of URL and Ao3 address)
* Section for choosing processed chapters and stories
	** Tabular layout that switches between parsings, just storyinfos, and just chapters
	** On anything you can expand on complex structures such as objects and arrays
	** On any complex or atomic, you can select to download a json file of that object for safe keeping.
		*** Maybe also a yaml and xml file.

------------------

States of the Session object

1) New Session - just created by startParse functions. Always a full creation.
2) Tracked Session (Active) - stored in session manager. Ongoing.
3) Tracked Session (Canceled) - stored in session manager. Future thread is being canceled.
4) Tracked Session (Finished) - stored in session manager. Finished.
5) Tracked Session (Purged) - removed from session manager.

Session in states 3, 4, and 5 can be accessed through API.

------------------

States of Response object and attribute

1) Response object can be created with or without a sessionInfo block
2) Response object is stored within Session object and is formatted in a way where it can just be sent as is through API.
3) Response's responseJSONString can be empty or not empty. A not-empty should only happen when session is completed and not canceled.
4) Response resultMessage is always set. Needs an Enum class.
5) Response's sessionInfo is either set or created. There is a way to tell the difference assuming the sessionInfo has not been altered. Blank sessionInfos indicate that it is not necessary and is just there for compliance.

------------------

States of SessionInfo object and attribute

1) SessionInfo object are only created in startParse functions or Response constructor. They are created fully set up every time.
2) SessionInfo's creationTimestamp is used for update tracking and purge decisions.
3) SessionInfo's sessionID is used for identifying the session.
4) SessionInfo's sessionNickname is meant for the frontend.
5) SessionInfo's chaptersCompeleted, chaptersTotal, and lastMessage is only updated by the archive ingestor.
6) isFinished and isCanceled is modified during asynchronous tasks. no F means nothing is done. F and no C means a successful completion. F and C mean an interrupted competition.

------------------

// Outcomes
        //      - Session completes successfully
        //          * JSON-formatted json string
        //          * only finished flag is set
        //          * chapter count attributes are modified
        //      - Session is canceled
        //          * empty json string
        //          * only canceled flag is set
        //      - Session errors out (but properly)
        //          * empty json string
        //          * finished and canceled flags are both set


2025-12-05T20:09:22.403-05:00  WARN 65392 --- [archive-ingestion-server] [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.laoluade.ingestor.ao3.server.models.ArchiveIngestorRequest` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)]

------------------

Info Model
	ingestorVersion
	otwArchiveVersion
	serverVersion

Request Model
	pageLink
	sessionNickname
			
Session Table
	sessionId
	sessionNickname
	sessionCreated
	sessionUpdated
	sessionFinished
	sessionCanceled
	sessionExceptioned
	sessionPurged
	parseId

Parse Table
	parseId
	parseType
	parseTargetLink
	parseResult
	parseChaptersCompleted
	parseChaptersTotal

Session HashMap
	sessionID
	sessionContent
		sessionFuture
		sessionLastMessage

Response Model
	sessionId
	sessionNickname
	sessionFinished
	sessionCanceled
	sessionExceptioned
	parseChaptersCompleted
	parseChaptersTotal
	parseResult
	responseMessage
	
